@page "/Figures"
@using Domain;
@using BusinessLogic;
@inject NavigationManager NavigationManager
@inject Manager manager;




<h3>Figure</h3>

<h3>Crear una figura (esfera)</h3>

<form>
    <div class="form-group">
        <label for="name">Nombre de la figura:</label>
        <input type="text" class="form-control" id="name" @bind="@name">
    </div>
    <div class="form-group">
        <label for="radius">Radio de la figura:</label>
        <input type="number" class="form-control" id="radius" @bind="@radius">
    </div>



    <button type="button" class="btn btn-primary" @onclick="CrearFigura">Crear Figura</button>
    @if (!string.IsNullOrEmpty(mensajeError))
    {
        <div class="alert alert-danger">@mensajeError</div>

    }




    <button type="button" class="btn btn-primary" @onclick="CancelarFigura">Cancelar</button>

</form>



@code {
    private string name = "";
    private float radius;
    private string mensajeError;


    void CrearFigura()
    {

        Figure figure = new Figure();



        if (figure.VerifyNameFigure(name) && figure.VerifyRadiusFigure(radius))
        {


            Figure newFig = new Figure(name, radius);
            manager.logged.addFigures(newFig);

        }
        else
        {
            mensajeError = "Incorrect name or radius";
        }
    }

    void CancelarFigura()
    {

        NavigationManager.NavigateTo("/logged");
    }



}
